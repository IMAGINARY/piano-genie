!function o(a,c,s){function u(t,e){if(!c[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=c[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,c,s)}return c[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){"use strict";var i,r=(i=e("qs"))&&i.__esModule?i:{default:i},o=e("./piano-genie");function s(e,t,n,i,r,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,r)}function a(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var i=c.apply(e,a);function r(e){s(i,t,n,r,o,"next",e)}function o(e){s(i,t,n,r,o,"throw",e)}r(void 0)})}}var c,u={defaultLanguage:"en"};function l(){return d.apply(this,arguments)}function d(){return(d=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200<=(n=e.sent).status&&n.status<300)return e.prev=4,e.next=7,n.json();e.next=13;break;case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),new Error("Error parsing config file: ".concat(e.t0.message));case 13:throw new Error("Server returned status ".concat(n.status," (").concat(n.statusText,") loading config file."));case 14:case"end":return e.stop()}},e,null,[[4,10]])}))).apply(this,arguments)}c=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Object,e.t1={},e.t2=u,e.next=6,l("./config.json");case 6:return e.t3=e.sent,t=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3),void 0!==r.default.parse(window.location.search,{ignoreQueryPrefix:!0}).embed&&(t.embedMode=!0),e.next=12,IMAGINARY.i18n.init({queryStringVariable:"lang",translationsDirectory:"tr",defaultLanguage:t.defaultLanguage||"en"});case 12:(0,o.initPianoGenie)(t),document.querySelectorAll("[data-i18n-field]").forEach(function(e){e.innerHTML=IMAGINARY.i18n.t(e.getAttribute("data-i18n-field"))}),e.next=19;break;case 16:e.prev=16,e.t4=e.catch(0),console.error(e.t4);case 19:case"end":return e.stop()}},e,null,[[0,16]])})),function(){c.apply(this,arguments)}()},{"./piano-genie":2,qs:4}],2:[function(e,t,n){"use strict";function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function W(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n.initPianoGenie=function(e){var s={COLORS:["#db4c67","#ff8459","#ffec02","#73ff6c","#00c5ba","#3753be","#9c52ff","#ef71f2"],NUM_BUTTONS:8,NOTES_PER_OCTAVE:12,WHITE_NOTES_PER_OCTAVE:7,LOWEST_PIANO_KEY_MIDI_NOTE:21,NUM_NOTES:88,GENIE_CHECKPOINT:"model/genie"},t=function(){function e(){H(this,e),this.player=new mm.SoundFontPlayer("vendor/sgm_plus"),this.midiOut=[],this.midiIn=[],this.usingMidiOut=!1,this.usingMidiIn=!1,this.selectOutElement=document.getElementById("selectOut"),this.selectInElement=document.getElementById("selectIn"),this.loadAllSamples()}return W(e,[{key:"loadAllSamples",value:function(){for(var e={notes:[]},t=0;t<s.NUM_NOTES;t++)e.notes.push({pitch:s.LOWEST_PIANO_KEY_MIDI_NOTE+t});this.player.loadSamples(e)}},{key:"playNoteDown",value:function(e,t){this.usingMidiOut?this.sendMidiNoteOn(e,t):(mm.Player.tone.context.resume(),this.player.playNoteDown({pitch:e}))}},{key:"playNoteUp",value:function(e,t){this.usingMidiOut?this.sendMidiNoteOff(e,t):this.player.playNoteUp({pitch:e})}},{key:"midiReady",value:function(e){var t=this;e.addEventListener("statechange",function(e){return t.initDevices(e.target)}),this.initDevices(e)}},{key:"initDevices",value:function(e){var t=this;this.midiOut=[],this.midiIn=[];for(var n=e.outputs.values(),i=n.next();i&&!i.done;i=n.next())this.midiOut.push(i.value);for(var r=e.inputs.values(),o=r.next();o&&!o.done;o=r.next())this.midiIn.push(o.value),o.value.onmidimessage=function(e){return t.getMIDIMessage(e)};this.selectInElement.innerHTML=this.midiIn.map(function(e){return"<option>".concat(e.name,"</option>")}).join(""),this.selectOutElement.innerHTML=this.midiOut.map(function(e){return"<option>".concat(e.name,"</option>")}).join("")}},{key:"sendMidiNoteOn",value:function(e,t){-1===t&&(t=0);var n=[144,e,127];this.midiOut[this.selectOutElement.selectedIndex].send(n)}},{key:"sendMidiNoteOff",value:function(e,t){-1===t&&(t=0);var n=[128,e,127];this.midiOut[this.selectOutElement.selectedIndex].send(n)}},{key:"getMIDIMessage",value:function(e){if(this.usingMidiIn){var t=e.data[0],n=e.data[1];2<e.data.length&&e.data[2];switch(t){case 144:I(n);break;case 128:L(n)}}}}]),e}(),n=function(){function e(){H(this,e),this.notes=[],this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.context.lineWidth=4,this.context.lineCap="round",this.contextHeight=0}return W(e,[{key:"resize",value:function(e){this.canvas.width=window.innerWidth,this.canvas.height=this.contextHeight=window.innerHeight-e-20}},{key:"addNote",value:function(e,t,n){var i={x:parseFloat(t),y:0,width:parseFloat(n),height:0,color:s.COLORS[e],on:!0};return this.notes.push(i),i}},{key:"stopNote",value:function(e){e.on=!1}},{key:"drawLoop",value:function(){var t=this;this.context.clearRect(0,0,window.innerWidth,window.innerHeight),this.notes=this.notes.filter(function(e){return e.on||e.y<t.contextHeight-100});for(var e=0;e<this.notes.length;e++){var n=this.notes[e];n.on?n.height+=3:n.y+=3,this.context.globalAlpha=1-n.y/this.contextHeight,this.context.fillStyle=n.color,this.context.fillRect(n.x,n.y,n.width,n.height)}window.requestAnimationFrame(function(){return t.drawLoop()})}}]),e}(),i=function(){function e(){H(this,e),this.config={whiteNoteWidth:20,blackNoteWidth:20,whiteNoteHeight:70,blackNoteHeight:140/3},this.svg=document.getElementById("svg"),this.svgNS="http://www.w3.org/2000/svg"}return W(e,[{key:"resize",value:function(e){var t=window.innerWidth/e;this.config.whiteNoteWidth=6<f?t:Math.floor(t),this.config.blackNoteWidth=2*this.config.whiteNoteWidth/3,this.svg.setAttribute("width",window.innerWidth),this.svg.setAttribute("height",this.config.whiteNoteHeight)}},{key:"draw",value:function(){this.svg.innerHTML="";var e=this.config.blackNoteWidth/2,t=0,n=0,i=[1,3,6,8,10];6<f?(this.makeRect(0,t,0,this.config.whiteNoteWidth,this.config.whiteNoteHeight,"white","#141E30"),this.makeRect(2,this.config.whiteNoteWidth,0,this.config.whiteNoteWidth,this.config.whiteNoteHeight,"white","#141E30"),n=3,t=2*this.config.whiteNoteWidth):n=3+s.NOTES_PER_OCTAVE;for(var r=0;r<f;r++)for(var o=0;o<s.NOTES_PER_OCTAVE;o++)-1===i.indexOf(o)&&(this.makeRect(n,t,0,this.config.whiteNoteWidth,this.config.whiteNoteHeight,"white","#141E30"),t+=this.config.whiteNoteWidth),n++;t=6<f?(this.makeRect(n,t,0,this.config.whiteNoteWidth,this.config.whiteNoteHeight,"white","#141E30"),this.makeRect(1,this.config.whiteNoteWidth-e,0,this.config.blackNoteWidth,this.config.blackNoteHeight,"black"),n=3,this.config.whiteNoteWidth):(n=3+s.NOTES_PER_OCTAVE,-this.config.whiteNoteWidth);for(var a=0;a<f;a++)for(var c=0;c<s.NOTES_PER_OCTAVE;c++)-1!==i.indexOf(c)?this.makeRect(n,t+this.config.whiteNoteWidth-e,0,this.config.blackNoteWidth,this.config.blackNoteHeight,"black"):t+=this.config.whiteNoteWidth,n++}},{key:"highlightNote",value:function(e,t){var n=this.svg.querySelector('rect[data-index="'.concat(e,'"]'));if(n)return n.setAttribute("active",!0),n.setAttribute("class","color-".concat(t)),n;console.log("couldnt find a rect for note",e)}},{key:"clearNote",value:function(e){e.removeAttribute("active"),e.removeAttribute("class")}},{key:"makeRect",value:function(e,t,n,i,r,o,a){var c=document.createElementNS(this.svgNS,"rect");return c.setAttribute("data-index",e),c.setAttribute("x",t),c.setAttribute("y",n),c.setAttribute("width",i),c.setAttribute("height",r),c.setAttribute("fill",o),a&&(c.setAttribute("stroke",a),c.setAttribute("stroke-width","3px")),this.svg.appendChild(c),c}}]),e}();function r(){document.querySelector(".embed-focus-tip").classList.add("visible")}var a,o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7},c={0:0,1:2,2:5,3:7,4:0,5:2,6:5,7:7},u=["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],l=["KeyA","KeyS","KeyD","KeyF","KeyJ","KeyK","KeyL","Semicolon"],d=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","KeyW","KeyA","KeyS","KeyD"],f=7,h=o,p=_(),y=new Map,m=!1,g=[],v=null,b=new t,w=new mm.PianoGenie(s.GENIE_CHECKPOINT),E=new n,O=new i,N=!1;function x(e){0;var t=document.querySelectorAll(".controls > .keyboard > button.color");h=4===e?c:o;for(var n=0;n<t.length;n++)t[n].hidden=e<=n}function k(e){e.preventDefault(),v=e.target,I(e.target.dataset.id)}function A(e){e.preventDefault(),v&&v!==e.target&&L(v.dataset.id),v=null,L(e.target.dataset.id)}function S(e,t){v&&(t?I(e.target.dataset.id):L(e.target.dataset.id))}function I(e){var t,n,i,r,o;y.has(e)||(t=document.getElementById("btn".concat(e)))&&(t.setAttribute("active",!0),n=w.nextFromKeyWhitelist(h[e],a,p),i=s.LOWEST_PIANO_KEY_MIDI_NOTE+n,b.playNoteDown(i,e),r=O.highlightNote(n,e),o=E.addNote(e,r.getAttribute("x"),r.getAttribute("width")),y.set(e,{rect:r,note:n,noteToPaint:o}))}function L(e){var t,n,i=document.getElementById("btn".concat(e));i&&(i.removeAttribute("active"),(t=y.get(e))&&(O.clearNote(t.rect),E.stopNote(t.noteToPaint),n=s.LOWEST_PIANO_KEY_MIDI_NOTE+t.note,m?g.push(s.LOWEST_PIANO_KEY_MIDI_NOTE+t.note):b.playNoteUp(n,e)),y.delete(e))}function M(e){var t;e.repeat||(" "===e.key?m=!0:"0"===e.key||"r"===e.key?(console.log("üßû‚Äç‚ôÄÔ∏è resetting!"),w.resetState()):null!=(t=j(e.code))&&I(t))}function D(e){var t;" "===e.key?(m=!1,g.forEach(function(e){return b.playNoteUp(e,-1)}),g=[]):null!=(t=j(e.code))&&L(t)}function T(){var e=6<(f=700<window.innerWidth?7:3)?4:0,t=s.NOTES_PER_OCTAVE*f+e,n=s.WHITE_NOTES_PER_OCTAVE*f+(e-1);a=Array(t).fill().map(function(e,t){return 6<f?t:t+3+s.NOTES_PER_OCTAVE}),O.resize(n),E.resize(O.config.whiteNoteHeight),O.draw()}function j(e){var t;return N?t=d.indexOf(e):-1===(t=u.indexOf(e))&&(t=l.indexOf(e)),-1!==t?t:null}function _(){var e,n,t=parseFloat((e=window.location.hash.substring(1),n={},e.split("&").map(function(e){var t=e.split("=");n[t[0]]=t[1]}),n).temperature)||.25,i=Math.min(1,t);return console.log("üßû‚Äç‚ôÄÔ∏è temperature = ",i),i}function P(){for(var e=document.querySelectorAll(".controls button.color"),t=IMAGINARY.i18n.t(N?"keysMakeyMakey":"keys").split(" "),n=0;n<e.length;n++)e[n].innerHTML=N?"<span>".concat(t[n],"</span>"):"<span>".concat(n+1,"</span><br><span>").concat(t[n],"</span>")}w.initialize().then(function(){console.log("üßû‚Äç‚ôÄÔ∏è ready!"),function(){document.querySelector(".splash").hidden=!0,document.querySelector(".loaded").hidden=!1,document.addEventListener("keydown",M),controls.addEventListener("touchstart",k,{passive:!0}),controls.addEventListener("touchend",A,{passive:!0}),"ontouchstart"in window||(controls.addEventListener("mousedown",k),controls.addEventListener("mouseup",A));controls.addEventListener("mouseover",function(e){return S(e,!0)}),controls.addEventListener("mouseout",function(e){return S(e,!1)}),controls.addEventListener("touchenter",function(e){return S(e,!0)}),controls.addEventListener("touchleave",function(e){return S(e,!1)}),canvas.addEventListener("mouseenter",function(){return v=null}),radioMidiOutYes.addEventListener("click",function(){b.usingMidiOut=!0,midiOutBox.hidden=!1}),radioAudioYes.addEventListener("click",function(){b.usingMidiOut=!1,midiOutBox.hidden=!0}),radioMidiInYes.addEventListener("click",function(){b.usingMidiIn=!0,midiInBox.hidden=!1,N=!1,P()}),radioDeviceYes.addEventListener("click",function(){b.usingMidiIn=!1,midiInBox.hidden=!0,N=!1,P()}),radioMakeyYes.addEventListener("click",function(){b.usingMidiIn=!1,midiInBox.hidden=!0,N=!0,P()}),navigator.requestMIDIAccess?(midiNotSupported.hidden=!0,radioMidiInYes.parentElement.removeAttribute("disabled"),radioMidiOutYes.parentElement.removeAttribute("disabled"),navigator.requestMIDIAccess().then(function(e){return b.midiReady(e)},function(e){return console.log("Something went wrong",e)})):(midiNotSupported.hidden=!1,radioMidiInYes.parentElement.setAttribute("disabled",!0),radioMidiOutYes.parentElement.setAttribute("disabled",!0));document.addEventListener("keyup",D);w.nextFromKeyWhitelist(0,a,p);w.resetState()}()}),T(),P(),window.requestAnimationFrame(function(){return E.drawLoop()}),document.getElementById("numButtons4").addEventListener("change",function(e){return e.target.checked&&x(4)}),document.getElementById("numButtons8").addEventListener("change",function(e){return e.target.checked&&x(8)}),window.addEventListener("resize",T),window.addEventListener("orientationchange",T),window.addEventListener("hashchange",function(){return p=_()}),e.embedMode&&(window.addEventListener("focus",function(){document.querySelector(".embed-focus-tip").classList.remove("visible")}),window.addEventListener("blur",function(){r()}),document.hasFocus()||r()),document.querySelector("#btnInfo").addEventListener("click",function(){var e=document.querySelector("#infoBox");e.hidden=!e.hidden}),document.querySelector("#btnSettings").addEventListener("click",function(){var e=document.querySelector("#settingsBox");e.hidden=!e.hidden});var R=document.querySelector("body");R.requestFullscreen?document.querySelector("#btnFullscreen").addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen():R.requestFullscreen().catch(function(e){alert("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))})}):document.querySelector("#btnFullscreen").style.display="none"}},{}],3:[function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g,o=e("./utils"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return String(e)}}},a)},{"./utils":7}],4:[function(e,t,n){"use strict";var i=e("./stringify"),r=e("./parse"),o=e("./formats");t.exports={formats:o,parse:r,stringify:i}},{"./formats":3,"./parse":5,"./stringify":6}],5:[function(e,t,n){"use strict";function p(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function u(e,t){var n,i,r,o,a,c,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,l),f=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),f=n,n=d.length);for(n=0;n<d.length;++n){n!==f&&((c=-1===(o=-1===(r=(i=d[n]).indexOf("]="))?i.indexOf("="):r+1)?(a=t.decoder(i,v.decoder,h,"key"),t.strictNullHandling?null:""):(a=t.decoder(i.slice(0,o),v.decoder,h,"key"),y.maybeMap(p(i.slice(o+1),t),function(e){return t.decoder(e,v.decoder,h,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===h&&(c=c.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<i.indexOf("[]=")&&(c=g(c)?[c]:c),m.call(s,a)?s[a]=y.combine(s[a],c):s[a]=c)}return s}function l(e,t,n,i){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=0<n.depth&&/(\[[^[\]]*])/.exec(r),c=a?r.slice(0,a.index):r,s=[];if(c){if(!n.plainObjects&&m.call(Object.prototype,c)&&!n.allowPrototypes)return;s.push(c)}for(var u=0;0<n.depth&&null!==(a=o.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&m.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+r.slice(a.index)+"]"),function(e,t,n,i){for(var r=i?t:p(t,n),o=e.length-1;0<=o;--o){var a,c,s,u=e[o];"[]"===u&&n.parseArrays?a=[].concat(r):(a=n.plainObjects?Object.create(null):{},c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,s=parseInt(c,10),n.parseArrays||""!==c?!isNaN(s)&&u!==c&&String(s)===c&&0<=s&&n.parseArrays&&s<=n.arrayLimit?(a=[])[s]=r:a[c]=r:a={0:r}),r=a}return r}(s,t,n,i)}}var y=e("./utils"),m=Object.prototype.hasOwnProperty,g=Array.isArray,v={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:y.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};t.exports=function(e,t){var n=function(e){if(!e)return v;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?v.charset:e.charset;return{allowDots:void 0===e.allowDots?v.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:v.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:v.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:v.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:v.comma,decoder:"function"==typeof e.decoder?e.decoder:v.decoder,delimiter:"string"==typeof e.delimiter||y.isRegExp(e.delimiter)?e.delimiter:v.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:v.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:v.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:v.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:v.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?u(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(i),a=0;a<o.length;++a)var c=o[a],s=l(c,i[c],n,"string"==typeof e),r=y.merge(r,s,n);return y.compact(r)}},{"./utils":7}],6:[function(e,t,n){"use strict";function O(e,t){i.apply(e,k(t)?t:[t])}function N(e,t,n,i,r,o,a,c,s,u,l,d,f){var h,p=e;if("function"==typeof a?p=a(t,p):p instanceof Date?p=u(p):"comma"===n&&k(p)&&(p=x.maybeMap(p,function(e){return e instanceof Date?u(e):e}).join(",")),null===p){if(i)return o&&!d?o(t,A.encoder,f,"key"):t;p=""}if("string"==typeof(h=p)||"number"==typeof h||"boolean"==typeof h||"symbol"==typeof h||"bigint"==typeof h||x.isBuffer(p))return o?[l(d?t:o(t,A.encoder,f,"key"))+"="+l(o(p,A.encoder,f,"value"))]:[l(t)+"="+l(String(p))];var y,m,g=[];if(void 0===p)return g;m=k(a)?a:(y=Object.keys(p),c?y.sort(c):y);for(var v=0;v<m.length;++v){var b,w=m[v],E=p[w];r&&null===E||(b=k(p)?"function"==typeof n?n(t,w):t:t+(s?"."+w:"["+w+"]"),O(g,N(E,b,n,i,r,o,a,c,s,u,l,d,f)))}return g}var x=e("./utils"),f=e("./formats"),h=Object.prototype.hasOwnProperty,p={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},k=Array.isArray,i=Array.prototype.push,r=Date.prototype.toISOString,o=f.default,A={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:x.encode,encodeValuesOnly:!1,format:o,formatter:f.formatters[o],indices:!1,serializeDate:function(e){return r.call(e)},skipNulls:!1,strictNullHandling:!1};t.exports=function(e,t){var n=e,i=function(e){if(!e)return A;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||A.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=f.default;if(void 0!==e.format){if(!h.call(f.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=f.formatters[n],r=A.filter;return"function"!=typeof e.filter&&!k(e.filter)||(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:A.addQueryPrefix,allowDots:void 0===e.allowDots?A.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:A.charsetSentinel,delimiter:void 0===e.delimiter?A.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:A.encode,encoder:"function"==typeof e.encoder?e.encoder:A.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:A.encodeValuesOnly,filter:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:A.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:A.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:A.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):k(i.filter)&&(c=i.filter);var r,o=[];if("object"!=typeof n||null===n)return"";r=t&&t.arrayFormat in p?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=p[r],c=c||Object.keys(n);i.sort&&c.sort(i.sort);for(var s=0;s<c.length;++s){var u=c[s];i.skipNulls&&null===n[u]||O(o,N(n[u],u,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var l=o.join(i.delimiter),d=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),0<l.length?d+l:""}},{"./formats":3,"./utils":7}],7:[function(e,t,n){"use strict";function c(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n}var s=Object.prototype.hasOwnProperty,l=Array.isArray,u=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.exports={arrayToObject:c,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],a=Object.keys(o),c=0;c<a.length;++c){var s=a[c],u=o[s];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:s}),n.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(l(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var r="",o=0;o<i.length;++o){var a=i.charCodeAt(o);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?r+=i.charAt(o):a<128?r+=u[a]:a<2048?r+=u[192|a>>6]+u[128|63&a]:a<55296||57344<=a?r+=u[224|a>>12]+u[128|a>>6&63]+u[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&i.charCodeAt(o)),r+=u[240|a>>18]+u[128|a>>12&63]+u[128|a>>6&63]+u[128|63&a])}return r},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(l(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function i(r,o,a){if(!o)return r;if("object"!=typeof o){if(l(r))r.push(o);else{if(!r||"object"!=typeof r)return[r,o];(a&&(a.plainObjects||a.allowPrototypes)||!s.call(Object.prototype,o))&&(r[o]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(o);var e=r;return l(r)&&!l(o)&&(e=c(r,a)),l(r)&&l(o)?(o.forEach(function(e,t){var n;s.call(r,t)?(n=r[t])&&"object"==typeof n&&e&&"object"==typeof e?r[t]=i(n,e,a):r.push(e):r[t]=e}),r):Object.keys(o).reduce(function(e,t){var n=o[t];return s.call(e,t)?e[t]=i(e[t],n,a):e[t]=n,e},e)}}},{}]},{},[1]);
//# sourceMappingURL=bundle.min.js.map
